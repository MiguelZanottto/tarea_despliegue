# Pr치ctica de Despliegue de Aplicaciones Web

## 游닄 Proyecto base con Docker Compose

El proyecto base es una aplicaci칩n t칤pica de lista de tareas divida en tres partes:

- una base de datos MongoDB
- una API REST hecha en Node con la librer칤a Fastify (basada en Express)
- un front hecho con Solid.js (versi칩n simplificada de React (sin VirtualDOM))

Puedes encontrar informaci칩n sobre Docker Compose en la web oficial <https://docs.docker.com/compose/gettingstarted/>

---

### :green_book: Base de Datos MongoDB

Caracter칤sticas de la MongoDB:

- Incluye las variables de entorno **MONGO_INITDB_ROOT_USERNAME** y **MONGO_INITDB_ROOT_PASSWORD** por lo que estar치 securizada de inicio
- Tambi칠n se incluye la VE **MONGO_INITDB_DATABASE** as칤 que esa DB estar치 creada de inicio y ser치 la que usemos para nuestra app
- Por 칰ltimo para nuestro caso de uso se crear치 un usuario con permisos para escribir en esa DB, pasando sus datos tambi칠n por VEs
- Para crear el usuario usaremos un script **./db/init-mongo.sh** que pasaremos por el Docker Entrypoint del contenedor de la DB

[:pencil:] En este servicio no hay que hacer ning칰n cambio. Lo 칰nico que necesitaremos ser치 a침adir las Variables de Entorno a github como **secretos** para que funcione nuestro workflow.

---

### :orange_book:   Aplicaci칩n server en Node usando Fastify

- Usaremos Fastify para crear una API RESTful que de servicio al cliente.
- Conectaremos con la DB para persistir los datos
- Tendr치 test unitarios con Jest

---

### :blue_book: Aplicaci칩n client hecha en Solid.js

- Generaremos un nuevo proyecto con Vite
- Usaremos Typescript y Lit como librer칤a
- Usaremos el c칩digo de TodoMVC

---

### :closed_book: GitHub Workflows

- Usar secretos para cargar las variables de entorno
- Modificar el changelog con los nuevos cambios
- Release??

---

### :pencil: Ejercicios

- :pencil: Modifica el workflow para que se lancen los tests de la app de servidor y que solo deje mergear cuando dichos tests pasen. (<span style="color:yellow;">1,5 puntos</span>)
- :pencil: Crea los tests E2E necesarios para cubrir todas las operaciones del CRUD sobre las tareas (<span style="color:yellow;">1,5 puntos</span>)
- :pencil: Modifica la aplicaci칩n tanto en el lado del cliente como del servidor para completar la funcionalidad (update y delete) (<span style="color:yellow;">2 puntos</span>)
- :pencil: Haz los test unitarios necesarios para cubrir las modificaciones del punto anterior (<span style="color:yellow;">2 puntos</span>)

Para los dos siguiente ejercicios si no pueden hacerlos 칰nicamente siguiendo la documentaci칩n de github, el mi칠rcoles lo veremos en clase:

- :pencil: Crea un workflow para que al sacar release se actualice el changelog.md con los cambios que incluya la versi칩n. Los cambios ser치n los nombres de los commits. (<span style="color:yellow;">1,5 puntos</span>)
- :pencil: Crea un workflow que publique las imagenes de Docker del cliente y del servidor en tu espacio de docker hub al hacer una release. (<span style="color:yellow;">1,5 puntos</span>)

Adem치s de los ejercicios se tendr치 en cuenta otros factores, como la limpieza de c칩digo, la calidad de la presentaci칩n (en cuanto a fluidez, concreci칩n y coherencia con el c칩digo) o cualquier extra que se quiera a침adir a la pr치ctica (nuevo workflow, ...) (<span style="color:yellow;">1,5 puntos</span>)
